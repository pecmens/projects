<div class="home-container">
  <!-- å®æ—¶æ±‡ç‡æ˜¾ç¤º -->
  <section class="rates-section">
    <div class="section-header">
      <h2>ğŸ“ˆ å®æ—¶å¤–æ±‡æ±‡ç‡</h2>
      <div class="update-info">
        <span>æœ€åæ›´æ–°: {{ formatTime(lastUpdate) }}</span>
        <button class="refresh-btn" (click)="refreshRates()" [disabled]="isLoading">
          <span *ngIf="!isLoading">ğŸ”„ åˆ·æ–°</span>
          <span *ngIf="isLoading">â³ åŠ è½½ä¸­...</span>
        </button>
      </div>
    </div>
    <div class="rates-grid" *ngIf="!isLoading; else loadingTemplate">
      <div class="rate-card" *ngFor="let rate of forexRates" 
           [ngClass]="getChangeClass(rate.changePercent)">
        <div class="currency-header">
          <span class="currency-code">{{ rate.currency }}</span>
          <span class="currency-name">{{ getCurrencyName(rate.currency) }}</span>
        </div>
        <div class="rate-info">
          <div class="current-rate">{{ formatNumber(rate.rate) }}</div>
          <div class="change-info">
            <span class="change-icon">{{ getChangeIcon(rate.changePercent) }}</span>
            <span class="change-value">{{ formatNumber(getAbsoluteValue(rate.change)) }}</span>
            <span class="change-percent">({{ formatNumber(rate.changePercent) }}%)</span>
          </div>
        </div>
      </div>
    </div>

    <ng-template #loadingTemplate>
      <div class="loading-container">
        <div class="loading-spinner">â³</div>
        <p>æ­£åœ¨åŠ è½½æ±‡ç‡æ•°æ®...</p>
      </div>
    </ng-template>
  </section>

  <!-- è´§å¸è½¬æ¢å™¨ -->
  <section class="converter-section">
    <div class="section-header">
      <h2>ğŸ’± è´§å¸è½¬æ¢å™¨</h2>
    </div>

    <div class="converter-card">
      <div class="converter-input-group">
        <label for="amount">é‡‘é¢</label>
        <input 
          type="number" 
          id="amount"
          [(ngModel)]="amount" 
          (ngModelChange)="onAmountChange()"
          min="0"
          step="0.01"
          class="amount-input"
        />
      </div>

      <div class="currency-selector-group">
        <div class="currency-selector">
          <label for="fromCurrency">ä»</label>
          <select 
            id="fromCurrency"
            [(ngModel)]="fromCurrency" 
            (ngModelChange)="onCurrencyChange()"
            class="currency-select"
          >
            <option value="USD">USD - ç¾å…ƒ</option>
            <option *ngFor="let rate of forexRates" [value]="rate.currency">
              {{ rate.currency }} - {{ getCurrencyName(rate.currency) }}
            </option>
          </select>
        </div>

        <button class="swap-btn" (click)="swapCurrencies()" title="äº¤æ¢è´§å¸">
          â‡„
        </button>

        <div class="currency-selector">
          <label for="toCurrency">åˆ°</label>
          <select 
            id="toCurrency"
            [(ngModel)]="toCurrency" 
            (ngModelChange)="onCurrencyChange()"
            class="currency-select"
          >
            <option value="USD">USD - ç¾å…ƒ</option>
            <option *ngFor="let rate of forexRates" [value]="rate.currency">
              {{ rate.currency }} - {{ getCurrencyName(rate.currency) }}
            </option>
          </select>
        </div>
      </div>

      <div class="result-section" *ngIf="convertedAmount > 0">
        <div class="result-header">è½¬æ¢ç»“æœ</div>
        <div class="result-amount">
          <span class="from-amount">{{ formatNumber(amount) }} {{ fromCurrency }}</span>
          <span class="equals">=</span>
          <span class="to-amount">{{ formatNumber(convertedAmount) }} {{ toCurrency }}</span>
        </div>
        <div class="result-info">
          æ±‡ç‡: 1 {{ fromCurrency }} = {{ formatNumber(convertedAmount / amount) }} {{ toCurrency }}
        </div>
      </div>
    </div>
  </section>

  <!-- ä½¿ç”¨è¯´æ˜ -->
  <section class="info-section">
    <div class="info-card">
      <h3>â„¹ï¸ ä½¿ç”¨è¯´æ˜</h3>
      <ul>
        <li>æ±‡ç‡æ•°æ®æ¯30ç§’è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡</li>
        <li>ç»¿è‰²è¡¨ç¤ºä¸Šæ¶¨ï¼Œçº¢è‰²è¡¨ç¤ºä¸‹è·Œ</li>
        <li>è½¬æ¢å™¨æ”¯æŒä¸»è¦è´§å¸ä¹‹é—´çš„å®æ—¶è½¬æ¢</li>
        <li>æ•°æ®ä»…ä¾›å‚è€ƒï¼Œå®é™…äº¤æ˜“è¯·ä»¥é“¶è¡Œæ±‡ç‡ä¸ºå‡†</li>
      </ul>
    </div>
  </section>
</div>
